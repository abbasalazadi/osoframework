#summary Creating a new robot

= Introduction =

This tutorial explains how to create a new web robot using OsoFramework.


== Adding references to a new project ==

Create a new solution and project from Visual Studio.NET or Mono Develop. Add the following references:

 * `log4net (found in Third Party folder)`
 * `System.Configuration`
 * `System.Linq`
 * `System.Xml`
 * `OsoFramework`
 * `OsoFramework.Http`
 * `SubSonic (found in Third Party folder)`
`
Following the `OsoExamples` project organization, add a `DatabaseSchema` folder, which stores the database schemas and Robot folder, storing the robots.

== Creating the database schema ==
In the `DatabaseSchema` folder, create a new class named `SearchResult.cs`. Inherit from IParseData and add the following properties described below.

{{{
public class SearchResult: IParseData 
        {
                public SearchResult()
                {
            Title = string.Empty;
            Url = string.Empty;
            Description = string.Empty;
            LastUpdated = DateTime.Now;
                }
                
        /// <summary>
        /// by default we have an autonumber
        /// </summary>
        public Int64 ID
        {
            get;
            set;
        }

        /// <summary>
        /// KeyIndex is the column we want to index, useful for querying existing items.
        /// </summary>
        public string KeyIndex
        {
            get
            {
                return Url;
            }
            set
            {
                Url= value;
            }
        }

        public string Url { get; set; }
        public string Description { get; set; }
        public string Title { get; set; }
        public DateTime LastUpdated { get; set; }
        }
}}}

Create another class called `SearchResultDataRepository`, which is the repository for our new search results schema.

{{{
 public class SearchResultDataRepository: DataRepositoryBase 
// Use IDataRepositoryBase if a custom data access API is required
        {                               
                public SearchResultDataRepository()
                {
                        dataRespository = new SimpleRepository("PublicSearchDatabase",SimpleRepositoryOptions.RunMigrations);
                }

        

    }
}}}

== Creating the robot class ==

Add a new class in Robot folder and inherit from [http://code.google.com/p/osoframework/source/browse/trunk/OsoFramework/WebRobotBase.cs WebRobotBase ] and [http://code.google.com/p/osoframework/source/browse/trunk/OsoFramework/IWebRobot.cs IWebRobot]. Name the class `GoogleSearch`.

A required setting is to name your robot.

{{{
 // IWebRobot implementation     
        public string Name
        {
            get
            {
                return "GoogleSearch";
            }
        }
}}}

In the Start method, leave it empty for now.